(this.webpackJsonpcalculator=this.webpackJsonpcalculator||[]).push([[0],{25:function(e,t,n){e.exports=n(43)},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(12),o=n.n(c),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var l=n(6),u=(n(34),n(10)),m=n(23),p=(n(38),n(11)),f=n(4),d=n(20),v=n(21),E=function(){function e(){Object(d.a)(this,e)}return Object(v.a)(e,null,[{key:"hasOperands",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(var n in this.operands)if(-1!==e.indexOf(n,t))return e.includes(n);return!1}},{key:"getOperand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={position:0,operand:"",priority:0};this.operands;for(var r in this.operands)-1!==e.indexOf(r,t)&&(this.operands[r]>n.priority?(n.position=e.indexOf(r),n.operand=r,n.priority=this.operands[r]):this.operands[r]===n.priority&&n.position>e.indexOf(r)&&(n.position=e.indexOf(r),n.operand=r));return n}},{key:"hasBrackets",value:function(e){return e.includes("(")&&e.includes(")")&&this.checkBrackets(e)}},{key:"checkBrackets",value:function(e){for(var t=0,n=0;n<e.length;n++){switch(e[n]){case"(":t++;break;case")":t--}if(t<0)return!1}return 0===t}},{key:"getBrackets",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={start:0,end:e.length},r=t;r<e.length;r++)if("("===e[r]){n.start=r;break}for(var a=n.start+1;a<e.length;a++)if(")"===e[a]&&this.checkBrackets(e.slice(n.start,a+1))){n.end=a+1;break}return n}},{key:"getFirstNumber",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t-n,a="";(parseInt(e[r])||0===parseInt(e[r])||"."===e[r]||"-"===e[r])&&-1!==r;)a+=e[r],r--;return""===a?null:+a.split("").reverse().join("")}},{key:"getSecondNumber",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t+n,a="";(parseInt(e[r])||0===parseInt(e[r])||"."===e[r]||"-"===e[r])&&r!==e.length;)a+=e[r],r++;return""===a?null:+a}},{key:"calc",value:function(e,t){this.operands;return this.operations[e](t)}},{key:"calculate",value:function(e){if(!b(e))return-1;for(;this.hasOperands(e)||this.hasBrackets(e);){var t=this.getOperand(e),n=t.operand,r=t.position,a=0,c=0,o=0;if("sqrt"!==n)if(this.hasBrackets(e)){var i=this.getBrackets(e),s=i.start,l=i.end,u=e.slice(s+1,l-1),m=this.calculate(u);e=e.replace("(".concat(u,")"),m.toString())}else"^"===n?(a=this.getFirstNumber(e,r,1),c=this.getSecondNumber(e,r,1),o=this.calc(n,{number:a,pow:c}),e=e.replace("".concat(a,"^").concat(c),o.toString())):(a=this.getFirstNumber(e,r+1,2),c=this.getSecondNumber(e,r+1,2),o=this.calc(n,{first:a,second:c}),e=e.replace("".concat(a).concat(n).concat(c),o.toString()));else{var p=this.getBrackets(e,r+3),f=p.start,d=p.end,v=e.slice(f+1,d-1),E=this.calculate(v),h=this.calc(n,{number:E});e=e.replace("sqrt(".concat(v,")"),h.toString())}}return+e}}]),e}();E.operands={" + ":1," - ":1," / ":2," * ":2,"^":3,sqrt:4},E.operations={" + ":function(e){return e.first+e.second}," - ":function(e){return e.first-e.second}," * ":function(e){return e.first*e.second}," / ":function(e){return e.first/e.second},"^":function(e){var t=e.number,n=e.pow;return Math.pow(t,n)},sqrt:function(e){var t=e.number;return+Math.sqrt(t).toFixed(2)}};var b=function(e){var t=function(t){var n=-1,r="";for(var a in E.operands)-1===n&&(n=e.indexOf(a,t),r=a),-1!==e.indexOf(a,t)&&n>e.indexOf(a,t)&&(n=e.indexOf(a,t),r=a);return{position:n,operand:r}},n=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!E.getFirstNumber(e,t,n)},r=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!E.getSecondNumber(e,t,n)};return E.checkBrackets(e)&&function(){for(var a=0;E.hasOperands(e,a);){var c=t(a),o=c.position,i=c.operand,s=E.getOperand(e),l=s.position;if("sqrt"===s.operand){var u=E.getBrackets(e,l+3),m=u.start,p=u.end,f=e.slice(m+1,p-1);if(!b(f))return!1;var d=E.calculate(f);e=e.replace("sqrt(".concat(f,")"),d.toString())}else if("^"===i){if(!n(o,1)||!r(o,1))return!1}else if(!n(o+1,2)||!r(o+1,2))return!1;a=o+1}return!0}()&&!e.includes("--")&&!e.includes("..")};window.calculator=E,window.checkExpression=b;var h=function(e){return E.calculate(e)},N=function(e){return b(e)},g={expression:[],cursorPosition:0},k=function(e){return{type:"calc/ADD_TO_EXPRESSION",value:e}},O=function(){return{type:"calc/REMOVE_ONE_NUMBER"}},y=function(){return{type:"calc/MOVE_CURSOR_LEFT"}},x=function(){return{type:"calc/MOVE_CURSOR_RIGHT"}},B=function(){return{type:"calc/CLEAR_EXPRESSION"}},C=function(){return{type:"calc/SOLVE"}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"calc/ADD_TO_EXPRESSION":return Object(f.a)(Object(f.a)({},e),{},{expression:[].concat(Object(p.a)(e.expression.slice(0,e.cursorPosition)),[t.value],Object(p.a)(e.expression.slice(e.cursorPosition,e.expression.length))),cursorPosition:e.cursorPosition+1});case"calc/REMOVE_ONE_NUMBER":var n=e.cursorPosition-1;return e.cursorPosition-1<=0&&(n=1),Object(f.a)(Object(f.a)({},e),{},{expression:[].concat(Object(p.a)(e.expression.slice(0,e.cursorPosition-1)),Object(p.a)(e.expression.slice(e.cursorPosition,e.expression.length))),cursorPosition:n});case"calc/MOVE_CURSOR_LEFT":var r=e.cursorPosition-1;return e.cursorPosition-1<=0&&(r=1),Object(f.a)(Object(f.a)({},e),{},{cursorPosition:r});case"calc/MOVE_CURSOR_RIGHT":var a=e.cursorPosition+1;return e.cursorPosition+1>=e.expression.length&&(a=e.expression.length),Object(f.a)(Object(f.a)({},e),{},{cursorPosition:a});case"calc/CLEAR_EXPRESSION":return Object(f.a)(Object(f.a)({},e),{},{expression:[],cursorPosition:0});case"calc/SOLVE":if(N(e.expression.join(""))){var c=h(e.expression.join("")).toString().split("");return Object(f.a)(Object(f.a)({},e),{},{expression:c,cursorPosition:c.length})}return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f! \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435:\n1)\u041d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0438\u0434\u0443\u0449\u0438\u043c \u0434\u0440\u0443\u0433 \u0437\u0430 \u0434\u0440\u0443\u0433\u043e\u043c \u043e\u043f\u0435\u0440\u0430\u043d\u0434\u043e\u0432, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 1 + + 1\n2)\u041d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0438\u0434\u0443\u0449\u0438\u0445 \u0434\u0440\u0443\u0433 \u0437\u0430 \u0434\u0440\u0443\u0433\u043e\u043c \u0442\u043e\u0447\u0435\u043a, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 1...20\n3)\u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e, \u0433\u0434\u0435-\u0442\u043e \u043d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u0447\u0438\u0441\u0435\u043b, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 1 + "),Object(f.a)({},e);default:return e}},j=function(e){var t=Object(l.b)(),n=function(e){return function(){t(k(e))}};return a.a.createElement("div",{className:"CalcBtns d-flex flex-column mt-1"},a.a.createElement("div",{className:"d-flex flex-row"},a.a.createElement("input",{type:"button",value:"\u21d0",className:"EnterNumberBtn",onClick:function(){t(y())}}),a.a.createElement("input",{type:"button",value:"\u21d2",className:"EnterNumberBtn ml-1",onClick:function(){t(x())}}),a.a.createElement("input",{type:"button",value:"(",className:"EnterNumberBtn ml-1",onClick:n("(")}),a.a.createElement("input",{type:"button",value:")",className:"EnterNumberBtn ml-1",onClick:n(")")})),a.a.createElement("div",{className:"mt-1"},a.a.createElement("div",null,a.a.createElement("input",{type:"button",value:"C",className:"EnterNumberBtn",onClick:function(){t(B())}}),a.a.createElement("input",{type:"button",value:"X",className:"EnterNumberBtn ml-1",onClick:function(){t(O())}}),a.a.createElement("input",{type:"button",value:"\u221a",className:"EnterNumberBtn ml-1",onClick:function(){n("sqrt")(),n("(")(),n(")")()}}),a.a.createElement("input",{type:"button",value:"/",className:"EnterNumberBtn ml-1",onClick:n(" / ")})),a.a.createElement("div",{className:"mt-1"},a.a.createElement("input",{type:"button",value:"1",className:"EnterNumberBtn",onClick:n("1")}),a.a.createElement("input",{type:"button",value:"2",className:"EnterNumberBtn ml-1",onClick:n("2")}),a.a.createElement("input",{type:"button",value:"3",className:"EnterNumberBtn ml-1",onClick:n("3")}),a.a.createElement("input",{type:"button",value:"\xd7",className:"EnterNumberBtn ml-1",onClick:n(" * ")})),a.a.createElement("div",{className:"mt-1"},a.a.createElement("input",{type:"button",value:"4",className:"EnterNumberBtn",onClick:n("4")}),a.a.createElement("input",{type:"button",value:"5",className:"EnterNumberBtn ml-1",onClick:n("5")}),a.a.createElement("input",{type:"button",value:"6",className:"EnterNumberBtn ml-1",onClick:n("6")}),a.a.createElement("input",{type:"button",value:"-",className:"EnterNumberBtn ml-1",onClick:n(" - ")})),a.a.createElement("div",{className:"mt-1"},a.a.createElement("input",{type:"button",value:"7",className:"EnterNumberBtn",onClick:n("7")}),a.a.createElement("input",{type:"button",value:"8",className:"EnterNumberBtn ml-1",onClick:n("8")}),a.a.createElement("input",{type:"button",value:"9",className:"EnterNumberBtn ml-1",onClick:n("9")}),a.a.createElement("input",{type:"button",value:"+",className:"EnterNumberBtn ml-1",onClick:n(" + ")})),a.a.createElement("div",{className:"mt-1"},a.a.createElement("input",{type:"button",value:"\xb1",className:"EnterNumberBtn",onClick:n("-")}),a.a.createElement("input",{type:"button",value:"0",className:"EnterNumberBtn ml-1",onClick:n("0")}),a.a.createElement("input",{type:"button",value:".",className:"EnterNumberBtn ml-1",onClick:function(){n(".")()}}),a.a.createElement("input",{type:"button",value:"=",className:"EnterNumberBtn ml-1",onClick:function(){t(C())}}))))},P=(n(39),function(e){var t=Object(r.useRef)(null);return a.a.createElement("input",{type:"text",value:e.expression,ref:t,onFocus:function(n){n.preventDefault(),t.current&&t.current.setSelectionRange(e.cursorPosition,e.cursorPosition)},onMouseUp:function(n){n.preventDefault(),t.current&&t.current.setSelectionRange(e.cursorPosition,e.cursorPosition)},onKeyDown:function(e){e.preventDefault()},onChange:function(e){e.preventDefault()},className:"CalcInput w-100",autoFocus:!0})}),S=(n(40),function(e){var t=Object(l.c)((function(e){return e.calcPage.expression})),n=Object(l.c)((function(e){return e.calcPage.cursorPosition}));return a.a.createElement("div",{className:"Calculator d-flex align-items-center flex-column"},a.a.createElement(P,{expression:t.join(""),cursorPosition:t.slice(0,n).join("").length}),a.a.createElement(j,{expression:t.join("")}))}),R=(n(41),n(22)),_=function(e){return a.a.createElement("header",{className:"Header w-100"},a.a.createElement("div",{className:"container d-flex align-items-center justify-content-center h-100"},a.a.createElement("div",{className:"Logo d-flex flex-row align-items-center"},a.a.createElement("div",{className:"mr-1"},"Calculator"),a.a.createElement(R.a,{icon:"calculator",fixedWidth:!0}))))},I=function(e){return a.a.createElement("div",{className:"App d-flex flex-column align-items-center"},a.a.createElement(_,null),a.a.createElement("div",{className:"mt-3"},a.a.createElement(S,null)))},M=n(9),A=Object(M.b)({calcPage:w}),U=Object(M.c)(A),D=n(24);u.b.add(m.a),o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(D.a,null,a.a.createElement(l.a,{store:U},a.a.createElement(I,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/calculator",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/calculator","/service-worker.js");i?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):s(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):s(t,e)}))}}()}},[[25,1,2]]]);
//# sourceMappingURL=main.35f77deb.chunk.js.map